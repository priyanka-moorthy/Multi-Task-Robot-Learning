
<mujoco model="franka_pick_place">
    <compiler angle="radian" meshdir="assets"/>

    <option timestep="0.002" gravity="0 0 -9.81"/>

    <asset>
        <!-- Materials for colored blocks -->
        <material name="red" rgba="1 0 0 1"/>
        <material name="blue" rgba="0 0 1 1"/>
        <material name="green" rgba="0 1 0 1"/>
        <material name="yellow" rgba="1 1 0 0.5"/>
        <material name="wood" rgba="0.6 0.4 0.2 1"/>
        <material name="metal" rgba="0.7 0.7 0.7 1"/>
    </asset>

    <worldbody>
        <!-- Lighting -->
        <light directional="true" pos="0 0 3" dir="0 0 -1"/>
        <light directional="true" pos="0.5 0.5 2" dir="0 0 -1"/>

        <!-- Table -->
        <body name="table" pos="0.5 0 -0.25">
            <geom type="box" size="0.5 0.5 0.25" material="wood" mass="0"/>
        </body>

        <!-- Simple Franka-like Robot Arm (7-DOF + gripper) -->
        <body name="robot_base" pos="0 0 0">
            <!-- Link 0: Base -->
            <geom type="cylinder" size="0.06 0.05" rgba="0.3 0.3 0.3 1" mass="0"/>

            <!-- Joint 1: Rotation around Z -->
            <body name="link1" pos="0 0 0.05">
                <joint name="joint1" type="hinge" axis="0 0 1" range="-2.8973 2.8973" damping="0.5"/>
                <geom type="cylinder" size="0.05 0.1" rgba="0.9 0.9 0.9 1"/>

                <!-- Joint 2: Rotation around Y -->
                <body name="link2" pos="0 0 0.15">
                    <joint name="joint2" type="hinge" axis="0 1 0" range="-1.7628 1.7628" damping="0.5"/>
                    <geom type="box" size="0.04 0.04 0.1" rgba="0.9 0.9 0.9 1"/>

                    <!-- Joint 3: Rotation around Z -->
                    <body name="link3" pos="0 0 0.15">
                        <joint name="joint3" type="hinge" axis="0 0 1" range="-2.8973 2.8973" damping="0.5"/>
                        <geom type="cylinder" size="0.04 0.08" rgba="0.9 0.9 0.9 1"/>

                        <!-- Joint 4: Rotation around Y -->
                        <body name="link4" pos="0 0 0.12">
                            <joint name="joint4" type="hinge" axis="0 1 0" range="-3.0718 -0.0698" damping="0.5"/>
                            <geom type="box" size="0.03 0.03 0.08" rgba="0.9 0.9 0.9 1"/>

                            <!-- Joint 5: Rotation around Z -->
                            <body name="link5" pos="0 0 0.12">
                                <joint name="joint5" type="hinge" axis="0 0 1" range="-2.8973 2.8973" damping="0.5"/>
                                <geom type="cylinder" size="0.03 0.06" rgba="0.9 0.9 0.9 1"/>

                                <!-- Joint 6: Rotation around Y -->
                                <body name="link6" pos="0 0 0.1">
                                    <joint name="joint6" type="hinge" axis="0 1 0" range="-0.0175 3.7525" damping="0.5"/>
                                    <geom type="box" size="0.025 0.025 0.05" rgba="0.9 0.9 0.9 1"/>

                                    <!-- Joint 7: Rotation around Z -->
                                    <body name="link7" pos="0 0 0.08">
                                        <joint name="joint7" type="hinge" axis="0 0 1" range="-2.8973 2.8973" damping="0.5"/>
                                        <geom type="cylinder" size="0.02 0.04" rgba="0.9 0.9 0.9 1"/>

                                        <!-- End Effector / Gripper Base -->
                                        <body name="gripper_base" pos="0 0 0.08">
                                            <geom type="box" size="0.02 0.03 0.02" rgba="0.3 0.3 0.3 1"/>

                                            <!-- Camera (for observation) -->
                                            <camera name="overhead_cam" pos="0 0 0.6" quat="1 0 0 0" fovy="60"/>

                                            <!-- Left Gripper Finger -->
                                            <body name="left_finger" pos="0 0.02 0.03">
                                                <joint name="left_finger_joint" type="slide" axis="0 1 0" range="0 0.04" damping="0.1"/>
                                                <geom name="left_finger_geom" type="box" size="0.01 0.005 0.025" rgba="0.2 0.2 0.2 1"/>
                                            </body>

                                            <!-- Right Gripper Finger -->
                                            <body name="right_finger" pos="0 -0.02 0.03">
                                                <joint name="right_finger_joint" type="slide" axis="0 -1 0" range="0 0.04" damping="0.1"/>
                                                <geom name="right_finger_geom" type="box" size="0.01 0.005 0.025" rgba="0.2 0.2 0.2 1"/>
                                            </body>

                                            <!-- End effector site (for IK target) -->
                                            <site name="ee_site" pos="0 0 0.05" size="0.01"/>
                                        </body>
                                    </body>
                                </body>
                            </body>
                        </body>
                    </body>
                </body>
            </body>
        </body>

        <!-- Red Block -->
        <body name="red_block" pos="0.5 -0.1 0.02">
            <joint type="free"/>
            <geom name="red_geom" type="box" size="0.02 0.02 0.02" material="red" mass="0.05"/>
        </body>

        <!-- Blue Block -->
        <body name="blue_block" pos="0.5 0.0 0.02">
            <joint type="free"/>
            <geom name="blue_geom" type="box" size="0.02 0.02 0.02" material="blue" mass="0.05"/>
        </body>

        <!-- Green Block -->
        <body name="green_block" pos="0.5 0.1 0.02">
            <joint type="free"/>
            <geom name="green_geom" type="box" size="0.02 0.02 0.02" material="green" mass="0.05"/>
        </body>

        <!-- Target zone (visual only) -->
        <body name="target" pos="0.5 0.2 0.001">
            <geom type="cylinder" size="0.08 0.001" material="yellow" mass="0" contype="0" conaffinity="0"/>
        </body>
    </worldbody>

    <actuator>
        <!-- Joint actuators (position control) -->
        <position name="joint1_actuator" joint="joint1" kp="100" ctrlrange="-2.8973 2.8973"/>
        <position name="joint2_actuator" joint="joint2" kp="100" ctrlrange="-1.7628 1.7628"/>
        <position name="joint3_actuator" joint="joint3" kp="100" ctrlrange="-2.8973 2.8973"/>
        <position name="joint4_actuator" joint="joint4" kp="100" ctrlrange="-3.0718 -0.0698"/>
        <position name="joint5_actuator" joint="joint5" kp="100" ctrlrange="-2.8973 2.8973"/>
        <position name="joint6_actuator" joint="joint6" kp="100" ctrlrange="-0.0175 3.7525"/>
        <position name="joint7_actuator" joint="joint7" kp="100" ctrlrange="-2.8973 2.8973"/>

        <!-- Gripper actuators -->
        <position name="left_finger_actuator" joint="left_finger_joint" kp="20" ctrlrange="0 0.04"/>
        <position name="right_finger_actuator" joint="right_finger_joint" kp="20" ctrlrange="0 0.04"/>
    </actuator>
</mujoco>
